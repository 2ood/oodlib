"use strict";(self.webpackChunk_2_oodlib=self.webpackChunk_2_oodlib||[]).push([[9162],{54494:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>p,frontMatter:()=>t,metadata:()=>l,toc:()=>d});var i=r(74848),a=r(28453);const t={},s="4. Serializer",l={id:"programming/django-rest-framework/serializer",title:"4. Serializer",description:"Serializer",source:"@site/docs/programming/django-rest-framework/4-serializer.md",sourceDirName:"programming/django-rest-framework",slug:"/programming/django-rest-framework/serializer",permalink:"/oodlib/docs/programming/django-rest-framework/serializer",draft:!1,unlisted:!1,editUrl:"https://github.com/2ood/oodlib/blob/master/docs/programming/django-rest-framework/4-serializer.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"3. Creating DRF app",permalink:"/oodlib/docs/programming/django-rest-framework/creating-drf-app"},next:{title:"5. Request and Response",permalink:"/oodlib/docs/programming/django-rest-framework/request-and-response"}},o={},d=[{value:"Serializer",id:"serializer",level:2},{value:"ModelSerializer",id:"modelserializer",level:2}];function c(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"4-serializer",children:"4. Serializer"}),"\n",(0,i.jsx)(n.h2,{id:"serializer",children:"Serializer"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Django model\ub85c \uc800\uc7a5\ub41c \ub370\uc774\ud130\ub97c object\uc758 attribute\ub85c \uc811\uadfc\ud560 \uc218 \uc788\uac8c \ud574\uc8fc\ub294 class."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\ub2e4\uc74c\uacfc \uac19\uc774 \uc815\uc758\ub41c ",(0,i.jsx)(n.code,{children:"model"})," \uc774 \uc788\ub2e4 \ud558\uc790."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"from django.db import models\nfrom pygments.lexers import get_all_lexers\nfrom pygments.styles import get_all_styles\n\nLEXERS = [item for item in get_all_lexers() if item[1]]\nLANGUAGE_CHOICES = sorted([(item[1][0], item[0]) for item in LEXERS])\nSTYLE_CHOICES = sorted([(item, item) for item in get_all_styles()])\n\n\nclass Snippet(models.Model):\n    created = models.DateTimeField(auto_now_add=True)\n    title = models.CharField(max_length=100, blank=True, default='')\n    code = models.TextField()\n    linenos = models.BooleanField(default=False)\n    language = models.CharField(choices=LANGUAGE_CHOICES, default='python', max_length=100)\n    style = models.CharField(choices=STYLE_CHOICES, default='friendly', max_length=100)\n\n    class Meta:\n        ordering = ['created']\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\uc774 ",(0,i.jsx)(n.code,{children:"model"}),"\uc744 migrate \ud558\uace0 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"python manage.py makemigrations snippets\npython manage.py migrate snippets\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"from snippets.models import Snippet\nfrom snippets.serializers import SnippetSerializer\nfrom rest_framework.renderers import JSONRenderer\nfrom rest_framework.parsers import JSONParser\n\nsnippet = Snippet(code='foo = \"bar\"\\n')\nsnippet.save()\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\uc704\uc640 \uac19\uc774 \uc785\ub825\ud558\uba74 ",(0,i.jsx)(n.code,{children:"code"}),"\ub77c\ub294 text\ud544\ub4dc\uc5d0\ub9cc \ub0b4\uc6a9\uc774 \uc800\uc7a5\ub418\uc5b4\uc788\ub2e4."]}),"\n",(0,i.jsxs)(n.p,{children:["\ub2e4\uc74c\uacfc \uac19\uc740 ",(0,i.jsx)(n.code,{children:"serializer"}),"\ub97c \uc0ac\uc6a9\ud558\uc5ec ",(0,i.jsx)(n.strong,{children:"\uac01 \ubcc0\uc218\ub85c \ubc88\uc5ed\ud558\uc5ec \ubc30\uc815\ud560 \uc218 \uc788\ub2e4."})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"from rest_framework import serializers\nfrom snippets.models import Snippet, LANGUAGE_CHOICES, STYLE_CHOICES\n\n\nclass SnippetSerializer(serializers.Serializer):\n    id = serializers.IntegerField(read_only=True)\n    title = serializers.CharField(required=False, allow_blank=True, max_length=100)\n    code = serializers.CharField(style={'base_template': 'textarea.html'})\n    linenos = serializers.BooleanField(required=False)\n    language = serializers.ChoiceField(choices=LANGUAGE_CHOICES, default='python')\n    style = serializers.ChoiceField(choices=STYLE_CHOICES, default='friendly')\n\n    def create(self, validated_data):\n        \"\"\"\n        Create and return a new `Snippet` instance, given the validated data.\n        \"\"\"\n        return Snippet.objects.create(**validated_data)\n\n    def update(self, instance, validated_data):\n        \"\"\"\n        Update and return an existing `Snippet` instance, given the validated data.\n        \"\"\"\n        instance.title = validated_data.get('title', instance.title)\n        instance.code = validated_data.get('code', instance.code)\n        instance.linenos = validated_data.get('linenos', instance.linenos)\n        instance.language = validated_data.get('language', instance.language)\n        instance.style = validated_data.get('style', instance.style)\n        instance.save()\n        return instance\n"})}),"\n",(0,i.jsx)(n.p,{children:"\uc0ac\uc6a9\ud574\ubcf4\uba74 \ub2e4\uc74c\uacfc \uac19\ub2e4."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"snippet = Snippet(code='print(\"hello, world\")\\n')\nsnippet.save()\n\nserializer = SnippetSerializer(snippet)\nserializer.data\n# {'id': 2, 'title': '', 'code': 'print(\"hello, world\")\\n', 'linenos': False, 'language': 'python', 'style': 'friendly'}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"modelserializer",children:"ModelSerializer"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"serializer"})," \ub300\uc2e0 ",(0,i.jsx)(n.code,{children:"modelSerializer"}),"\ub97c \uc4f0\uba74 \uc791\uc131\ud560 \ub0b4\uc6a9\uc744 \uac04\uc18c\ud654\ud560 \uc218 \uc788\ub2e4.\nparameter\ub85c ",(0,i.jsx)(n.code,{children:"ModelSerializer"}),"\ub97c \uc4f0\uace0, ",(0,i.jsx)(n.code,{children:"Meta"})," class\uc5d0 model\ub9cc \uc801\uc5b4\uc8fc\uba74 \ub05d."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:"class SnippetSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Snippet\n        fields = ['id', 'title', 'code', 'linenos', 'language', 'style']\n"})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>l});var i=r(96540);const a={},t=i.createContext(a);function s(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);