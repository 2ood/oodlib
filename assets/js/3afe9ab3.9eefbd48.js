"use strict";(self.webpackChunk_2_oodlib=self.webpackChunk_2_oodlib||[]).push([[6087],{60407:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>c});var i=s(74848),r=s(28453);const t={},o="Introduction",l={id:"lecture-notes/networks/2023-09-14",title:"Introduction",description:"Summary",source:"@site/docs/lecture-notes/networks/2023-09-14.md",sourceDirName:"lecture-notes/networks",slug:"/lecture-notes/networks/2023-09-14",permalink:"/oodlib/docs/lecture-notes/networks/2023-09-14",draft:!1,unlisted:!1,editUrl:"https://github.com/2ood/oodlib/blob/master/docs/lecture-notes/networks/2023-09-14.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/oodlib/docs/lecture-notes/networks/2023-09-12"},next:{title:"Introduction",permalink:"/oodlib/docs/lecture-notes/networks/2023-09-19"}},d={},c=[{value:"HTTP request message",id:"http-request-message",level:2},{value:"GET",id:"get",level:2},{value:"POST",id:"post",level:2},{value:"HEAD",id:"head",level:2},{value:"PUT",id:"put",level:2},{value:"Response message",id:"response-message",level:2},{value:"Response status codes",id:"response-status-codes",level:3},{value:"Cookies",id:"cookies",level:2},{value:"advantage",id:"advantage",level:3},{value:"Caching Scenario",id:"caching-scenario",level:3}];function a(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Summary"})}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"keywords"})}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"TODO"})}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"HW"}),"\nperformance calculation on installing web cache"]}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Exercise"}),"*"]}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next time"}),"\nHOL blocking"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h1,{id:"recap",children:"Recap"}),"\n",(0,i.jsx)(n.p,{children:"What kind of Application need which transport protocol?"}),"\n",(0,i.jsx)(n.p,{children:"TCP & UDP have no encryptions, throughput guarantee, timing,,"}),"\n",(0,i.jsx)(n.p,{children:"Web and HTTP"}),"\n",(0,i.jsx)(n.p,{children:"HTTP uses TCP\nTCP is closed after a certain amount of time, or certain amount of transmissions\nHTTP is stateless. headers do not store any stateful meanings."}),"\n",(0,i.jsx)(n.p,{children:"Non-persistent TCP no longer used. High RTT\nOne single connection on one transmssion"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h1,{id:"request-and-response",children:"request and response"}),"\n",(0,i.jsx)(n.p,{children:"all human readable.  Written in ASCII codes)"}),"\n",(0,i.jsx)(n.h2,{id:"http-request-message",children:"HTTP request message"}),"\n",(0,i.jsx)(n.p,{children:"composed of"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"request line (method, url, version)"}),"\n",(0,i.jsx)(n.li,{children:"header lines (header values)"}),"\n",(0,i.jsx)(n.li,{children:"body (data)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"in the request message,"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"GET, POST, HEAD, PUT request types"}),"\n",(0,i.jsxs)(n.li,{children:["lines are broken down by ",(0,i.jsx)(n.code,{children:"\\r\\n"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For normal GET request, there's no body"}),"\n",(0,i.jsx)(n.h2,{id:"get",children:"GET"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"send data to server by URL query (after question mark)."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"post",children:"POST"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"form input"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"head",children:"HEAD"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"request headers only."}),"\n",(0,i.jsx)(n.li,{children:"only used when checking server up status."}),"\n",(0,i.jsx)(n.li,{children:"will only send essential info"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"put",children:"PUT"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"upload a file"}),"; alternative for FTP."]}),"\n",(0,i.jsx)(n.li,{children:"completely replaces file that exist at specified URL"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"response-message",children:"Response message"}),"\n",(0,i.jsx)(n.p,{children:"composed of"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"status line (HTTP/1.1 200 OK)"}),"\n",(0,i.jsx)(n.li,{children:"header lines"}),"\n",(0,i.jsx)(n.li,{children:"body"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"in the header"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Date, Server, Last-Modified,"}),"\n",(0,i.jsx)(n.li,{children:"Etag,"}),"\n",(0,i.jsx)(n.li,{children:"Accept-Ranges,"}),"\n",(0,i.jsx)(n.li,{children:"(Content-Length, Content-Type..)"}),"\n",(0,i.jsx)(n.li,{children:"and more.."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:'Etag is used for caching page purposes.\nversion controlling for page.\nex . ( Etag : "abb-43kfnnldocmmdkvndls")'}),"\n",(0,i.jsx)(n.p,{children:"#todo : what is Accept-Ranges"}),"\n",(0,i.jsx)(n.h3,{id:"response-status-codes",children:"Response status codes"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"code"}),(0,i.jsx)(n.th,{children:"name"}),(0,i.jsx)(n.th,{children:"description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"200"}),(0,i.jsx)(n.td,{children:"OK"}),(0,i.jsx)(n.td,{children:"success"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"301"}),(0,i.jsx)(n.td,{children:"Moved Permanently"}),(0,i.jsx)(n.td,{children:"request object moved, new location specified"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"400"}),(0,i.jsx)(n.td,{children:"Bad request"}),(0,i.jsx)(n.td,{children:"not understood by server"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"404"}),(0,i.jsx)(n.td,{children:"Not found"}),(0,i.jsx)(n.td,{children:"not found"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"505"}),(0,i.jsx)(n.td,{children:"HTTP Version Not supported"}),(0,i.jsx)(n.td,{children:"-"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"and more.."}),"\n",(0,i.jsx)(n.h2,{id:"cookies",children:"Cookies"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"client-side tool to make WEB stateful."}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"in HTTP, all request are independent of each other"})}),"\n",(0,i.jsx)(n.li,{children:"browser stores the cookie"}),"\n",(0,i.jsxs)(n.li,{children:["widely used in server identifying a client browser&machine","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Authorization, shopping carts, recommendations, user session state(e-mail..)"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"when written in browser, it transcends time and can be used in the long apart future and show the seamless cookie-specific action."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"four components of data storages"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["cookie ",(0,i.jsx)(n.strong,{children:"header line"})," ( of response message)"]}),"\n",(0,i.jsx)(n.li,{children:"cookie header in next HTTP request message)"}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"cookie file kept on user's host, managed by user's"})}),"\n",(0,i.jsx)(n.li,{children:"back-end database at web site"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"#todo : check the python example on the slides."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import requests\n\nresponse = requests.get("https://www.google.com")\n\nif response.status_code == 200:\n\tcookies = response.cookies\n\tfor cookie in cookies:\n\t\tprint(f"Cookie Name: {cookie.name}")\n\t\tprint(f"Cookie value: {cookie.value}")\n\nelse :\n\tprint("HTTP Error:",response.status_code,response.reason)\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Cookie Name: 1P_JAR\nCookie value: 2023-09-14-04\nCookie Name: AEC\nCookie value: Ad49MVFXS3NX5m3l8PO4X5FUaFZvQI8b1Czl9-Ym1cAxZn7fTXSC5fXdAw\nCookie Name: NID\nCookie value: 511=m0D8Dti7MEGMgrBAZI_1a3ZfZ8xr9ydTVeHn60MicQtJztyPIo5Qj7U73zEnhAm8i1KeRJfAjsANOwpxvqaKfemnBYIWKnfl_OZOjFbDw6rMPjH_aEG9PFVAp20YMu8ZOpIaj7b7NBSauxhKPq3-ceyC3o-pyKj-X-5_T1G0ou4\n\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Cookie has ",(0,i.jsx)(n.strong,{children:"trade-offs on privacy"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"it is a info a lot about you."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["How to keep state? (other than cookies?)*","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"cookies inside the HTTP message"}),"\n",(0,i.jsx)(n.li,{children:"protocol endpoint ?"}),"\n",(0,i.jsx)(n.li,{children:"#todo what is protocol endpoint"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h1,{id:"web-caches",children:"Web Caches"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Intermediate servers that saves a server and sending pages instead of the origin server"}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"satisfy client request without involving origin server"}),"\n",(0,i.jsx)(n.li,{children:"Act as a client against origin server, act as a server for end-users"}),"\n",(0,i.jsxs)(n.li,{children:["server tells cache about whether the object can be cached or not","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Cache-Control: max-age=<seconds>"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"advantage",children:"advantage"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"makes less load on the origin server"}),"\n",(0,i.jsx)(n.li,{children:"reduce response time"}),"\n",(0,i.jsx)(n.li,{children:"reduces traffic on the backbone network"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"following is a small server"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from flask import Flask, make_response\n\napp = Flask(__name__)\n\n@app.route('/')\ndef hello():\n\tresponse = make_response(\"hello, world\")\n\trespon.headers[\"Cache-Control\"]= 'public, amx-age=3600'\n\treturn response\n\nif __name__ == '__main__':\n\tapp.run()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"caching-scenario",children:"Caching Scenario"}),"\n",(0,i.jsx)(n.p,{children:"![[../images/20230914140127.png]]\n$$\nL = 100K;bits;\na = 15/sec;\nR = 1.54 MBps;"}),"\n",(0,i.jsx)(n.p,{children:"access link utilization = La/R = .97\nLAN utilization = 0.0015\ndelay : 2sec + access link delay(minutes) + LAN delay\n$$"}),"\n",(0,i.jsx)(n.p,{children:"So slow. How will it be \ud574\uacb0?"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["buy a faster link ",(0,i.jsx)(n.code,{children:"high R"}),"\ncost-ineffective"]}),"\n",(0,i.jsx)(n.li,{children:"install a web cache\n#todo : make performance calculations"}),"\n"]}),"\n",(0,i.jsx)(n.h1,{id:"conditional-get",children:"Conditional GET"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Don't send object if cache has up-to-date cached version"}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"no object transmission delay"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Client sends a If-modified-since header message of cache that they have\n",(0,i.jsx)(n.strong,{children:"304 Not modified"}),' status code tells us "you don\'t need a newer one"']}),"\n",(0,i.jsx)(n.p,{children:"![[../images/20230914140912.png]]"})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var i=s(96540);const r={},t=i.createContext(r);function o(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);